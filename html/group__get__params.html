<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.3.1"/>
<title>Drush Rush: Parameters Helpers</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="extra.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="surfboard.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Drush Rush
   </div>
   <div id="projectbrief">Drush tools to enhance and improve Drupal development operations and work flow.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.3.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Parameters Helpers<div class="ingroups"><a class="el" href="group__helpers.html">Helper Functions</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Functions to parse and derive Rush Job and environment parameters.  
<a href="#details">More...</a></p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Collaboration diagram for Parameters Helpers:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<center><table><tr><td><img src="group__get__params.png" border="0" alt="" usemap="#group____get____params"/>
<map name="group____get____params" id="group____get____params">
<area shape="rect" id="node1" href="group__helpers.html" title="Helper functions for Drush Rush commands." alt="" coords="5,5,128,32"/></map>
</td></tr></table></center>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gac41c33874c97642471b59de59613356f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__get__params.html#gac41c33874c97642471b59de59613356f">_rush_array_merge_recursive_distinct</a> (array &amp;$array1, array &amp;$array2)</td></tr>
<tr class="memdesc:gac41c33874c97642471b59de59613356f"><td class="mdescLeft">&#160;</td><td class="mdescRight">An array merge function which does not change data types during merge.  <a href="#gac41c33874c97642471b59de59613356f">More...</a><br/></td></tr>
<tr class="separator:gac41c33874c97642471b59de59613356f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga31dd7ffa81ecf01ffe2ade129ec9998d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__get__params.html#ga31dd7ffa81ecf01ffe2ade129ec9998d">_rush_derive_parameters</a> (&amp;$params)</td></tr>
<tr class="memdesc:ga31dd7ffa81ecf01ffe2ade129ec9998d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Derive missing parameters.  <a href="#ga31dd7ffa81ecf01ffe2ade129ec9998d">More...</a><br/></td></tr>
<tr class="separator:ga31dd7ffa81ecf01ffe2ade129ec9998d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga443fac6061c92d86acfcd7192dbdb3f9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__get__params.html#ga443fac6061c92d86acfcd7192dbdb3f9">_rush_derive_parameters_build</a> (&amp;$params, &amp;$derived)</td></tr>
<tr class="memdesc:ga443fac6061c92d86acfcd7192dbdb3f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Derive missing build parameters.  <a href="#ga443fac6061c92d86acfcd7192dbdb3f9">More...</a><br/></td></tr>
<tr class="separator:ga443fac6061c92d86acfcd7192dbdb3f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5d122a82e279e783ea3767d138424610"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__get__params.html#ga5d122a82e279e783ea3767d138424610">_rush_derive_parameters_db</a> (&amp;$params, &amp;$derived)</td></tr>
<tr class="memdesc:ga5d122a82e279e783ea3767d138424610"><td class="mdescLeft">&#160;</td><td class="mdescRight">Derive missing db parameters.  <a href="#ga5d122a82e279e783ea3767d138424610">More...</a><br/></td></tr>
<tr class="separator:ga5d122a82e279e783ea3767d138424610"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9af08c808c5ddd9d59fe9c550e55ea65"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__get__params.html#ga9af08c808c5ddd9d59fe9c550e55ea65">_rush_derive_parameters_env</a> (&amp;$params, &amp;$derived)</td></tr>
<tr class="memdesc:ga9af08c808c5ddd9d59fe9c550e55ea65"><td class="mdescLeft">&#160;</td><td class="mdescRight">Derive missing env parameters.  <a href="#ga9af08c808c5ddd9d59fe9c550e55ea65">More...</a><br/></td></tr>
<tr class="separator:ga9af08c808c5ddd9d59fe9c550e55ea65"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga71d53df6ee2f78dbb1e5cd3a8f926fe4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__get__params.html#ga71d53df6ee2f78dbb1e5cd3a8f926fe4">_rush_derive_parameters_repo</a> (&amp;$params, &amp;$derived)</td></tr>
<tr class="memdesc:ga71d53df6ee2f78dbb1e5cd3a8f926fe4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Derive missing repo parameters.  <a href="#ga71d53df6ee2f78dbb1e5cd3a8f926fe4">More...</a><br/></td></tr>
<tr class="separator:ga71d53df6ee2f78dbb1e5cd3a8f926fe4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae7e40e20b79c96a7ed07c195f2a69cae"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__get__params.html#gae7e40e20b79c96a7ed07c195f2a69cae">_rush_derive_parameters_si</a> (&amp;$params, &amp;$derived)</td></tr>
<tr class="memdesc:gae7e40e20b79c96a7ed07c195f2a69cae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set some default si parameters if they are not present in a params file.  <a href="#gae7e40e20b79c96a7ed07c195f2a69cae">More...</a><br/></td></tr>
<tr class="separator:gae7e40e20b79c96a7ed07c195f2a69cae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad7711d36a38bbc35b89507a009e6f88c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__get__params.html#gad7711d36a38bbc35b89507a009e6f88c">rush_get_params</a> ()</td></tr>
<tr class="memdesc:gad7711d36a38bbc35b89507a009e6f88c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse rush parameter files and return an array of parameters.  <a href="#gad7711d36a38bbc35b89507a009e6f88c">More...</a><br/></td></tr>
<tr class="separator:gad7711d36a38bbc35b89507a009e6f88c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1d904fa261fedd26a696892343d2b062"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__get__params.html#ga1d904fa261fedd26a696892343d2b062">rush_parse_ini</a> ($ini_file)</td></tr>
<tr class="memdesc:ga1d904fa261fedd26a696892343d2b062"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse a params.ini file.  <a href="#ga1d904fa261fedd26a696892343d2b062">More...</a><br/></td></tr>
<tr class="separator:ga1d904fa261fedd26a696892343d2b062"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Functions to parse and derive Rush Job and environment parameters. </p>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="gac41c33874c97642471b59de59613356f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">_rush_array_merge_recursive_distinct </td>
          <td>(</td>
          <td class="paramtype">array &amp;&#160;</td>
          <td class="paramname"><em>$array1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">array &amp;&#160;</td>
          <td class="paramname"><em>$array2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>An array merge function which does not change data types during merge. </p>
<p>The array_merge_recursive function does merge arrays, but it converts values with duplicate keys to arrays rather than overwriting the value in the first array with the duplicate value in the second array, as array_merge does. I.e., with array_merge_recursive, this happens (documented behavior):</p>
<p>array_merge_recursive(array('key' =&gt; 'org value'), array('key' =&gt; 'new value')); =&gt; array('key' =&gt; array('org value', 'new value'));</p>
<p>_rush_array_merge_recursive_distinct does not change the datatypes of values in the arrays. Matching keys' values in the second array overwrite those in the first array, as is the case with array_merge, i.e.:</p>
<p>_rush_array_merge_recursive_distinct(array('key' =&gt; 'org value'), array('key' =&gt; 'new value')); =&gt; array('key' =&gt; array('new value'));</p>
<p>Parameters are passed by reference, though only for performance reasons. They're not altered by this function.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$array1</td><td>Array one of two to be merged. </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$array2</td><td>Array two of two to be merged.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>array An array of merged arrays. </dd></dl>

<p>Definition at line <a class="el" href="params_8inc_source.html#l00562">562</a> of file <a class="el" href="params_8inc_source.html">params.inc</a>.</p>

<p>Referenced by <a class="el" href="params_8inc_source.html#l00034">rush_get_params()</a>.</p>
<div class="fragment"><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;                                                                              {</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;  $merged = $array1;</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;  <span class="keywordflow">foreach</span> ($array2 as $key =&gt; &amp;$value) {</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;    <span class="keywordflow">if</span> (is_array($value) &amp;&amp; isset($merged[$key]) &amp;&amp; is_array($merged[$key])) {</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;      $merged[$key] = <a class="code" href="group__get__params.html#gac41c33874c97642471b59de59613356f" title="An array merge function which does not change data types during merge.">_rush_array_merge_recursive_distinct</a>($merged[$key], $value);</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;    }</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;      $merged[$key] = $value;</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;    }</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;  }</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;  <span class="keywordflow">return</span> $merged;</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;}</div>
</div><!-- fragment -->
<p><div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__get__params_gac41c33874c97642471b59de59613356f_icgraph.png" border="0" usemap="#group__get__params_gac41c33874c97642471b59de59613356f_icgraph" alt=""/></div>
<map name="group__get__params_gac41c33874c97642471b59de59613356f_icgraph" id="group__get__params_gac41c33874c97642471b59de59613356f_icgraph">
<area shape="rect" id="node2" href="group__get__params.html#gad7711d36a38bbc35b89507a009e6f88c" title="Parse rush parameter files and return an array of parameters." alt="" coords="253,31,379,57"/><area shape="rect" id="node3" href="group__commandcallbacks.html#ga7462df2e5f0265288ce9beb03ea9c3a9" title="Drush rush command callback." alt="" coords="446,5,535,32"/><area shape="rect" id="node4" href="group__commandcallbacks.html#ga7068812064767011f14560a4d963843d" title="Drush rush&#45;show command callback." alt="" coords="427,56,554,83"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga31dd7ffa81ecf01ffe2ade129ec9998d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">_rush_derive_parameters </td>
          <td>(</td>
          <td class="paramtype">&amp;&#160;</td>
          <td class="paramname"><em>$params</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Derive missing parameters. </p>
<p>To see a list of all derived params add &ndash;show=derived to the rush command.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$params</td><td>An associative array of all rush parameters.</td></tr>
  </table>
  </dd>
</dl>
<dl class="backlog"><dt><b><a class="el" href="backlog.html#_backlog000002">Backlog:</a></b></dt><dd><p class="startdd">Make some of these detections smarter by system type &amp; directory tests. </p>
<p class="enddd">Add inline comments when needed. </p>
</dd></dl>

<p>Definition at line <a class="el" href="params_8inc_source.html#l00150">150</a> of file <a class="el" href="params_8inc_source.html">params.inc</a>.</p>

<p>References <a class="el" href="params_8inc_source.html#l00181">_rush_derive_parameters_build()</a>, <a class="el" href="params_8inc_source.html#l00330">_rush_derive_parameters_db()</a>, <a class="el" href="params_8inc_source.html#l00483">_rush_derive_parameters_env()</a>, <a class="el" href="params_8inc_source.html#l00426">_rush_derive_parameters_repo()</a>, and <a class="el" href="params_8inc_source.html#l00517">_rush_derive_parameters_si()</a>.</p>

<p>Referenced by <a class="el" href="params_8inc_source.html#l00034">rush_get_params()</a>.</p>
<div class="fragment"><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;                                           {</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;  <span class="comment">// Set up an array to track derived params to output during --show-derived.</span></div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;  $derived = array();</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;  <span class="comment">// Derive parameters for each param type.</span></div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;  <span class="comment">// Use helper function just to break up the code.</span></div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;  <a class="code" href="group__get__params.html#ga9af08c808c5ddd9d59fe9c550e55ea65" title="Derive missing env parameters.">_rush_derive_parameters_env</a>($params, $derived);</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;  <a class="code" href="group__get__params.html#ga443fac6061c92d86acfcd7192dbdb3f9" title="Derive missing build parameters.">_rush_derive_parameters_build</a>($params, $derived);</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;  <a class="code" href="group__get__params.html#ga5d122a82e279e783ea3767d138424610" title="Derive missing db parameters.">_rush_derive_parameters_db</a>($params, $derived);</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;  <a class="code" href="group__get__params.html#ga71d53df6ee2f78dbb1e5cd3a8f926fe4" title="Derive missing repo parameters.">_rush_derive_parameters_repo</a>($params, $derived);</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;  <a class="code" href="group__get__params.html#gae7e40e20b79c96a7ed07c195f2a69cae" title="Set some default si parameters if they are not present in a params file.">_rush_derive_parameters_si</a>($params, $derived);</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;  <span class="comment">// Add the derived params to the params array.</span></div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;  $params[<span class="stringliteral">&#39;derived_params&#39;</span>] = $derived;</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;}</div>
</div><!-- fragment -->
<p><div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__get__params_ga31dd7ffa81ecf01ffe2ade129ec9998d_cgraph.png" border="0" usemap="#group__get__params_ga31dd7ffa81ecf01ffe2ade129ec9998d_cgraph" alt=""/></div>
<map name="group__get__params_ga31dd7ffa81ecf01ffe2ade129ec9998d_cgraph" id="group__get__params_ga31dd7ffa81ecf01ffe2ade129ec9998d_cgraph">
<area shape="rect" id="node2" href="group__get__params.html#ga443fac6061c92d86acfcd7192dbdb3f9" title="Derive missing build parameters." alt="" coords="244,5,417,46"/><area shape="rect" id="node4" href="group__get__params.html#ga5d122a82e279e783ea3767d138424610" title="Derive missing db parameters." alt="" coords="233,71,429,97"/><area shape="rect" id="node5" href="group__get__params.html#ga9af08c808c5ddd9d59fe9c550e55ea65" title="Derive missing env parameters." alt="" coords="229,121,432,148"/><area shape="rect" id="node6" href="group__get__params.html#ga71d53df6ee2f78dbb1e5cd3a8f926fe4" title="Derive missing repo parameters." alt="" coords="227,172,435,199"/><area shape="rect" id="node7" href="group__get__params.html#gae7e40e20b79c96a7ed07c195f2a69cae" title="Set some default si parameters if they are not present in a params file." alt="" coords="235,223,426,249"/><area shape="rect" id="node3" href="group__filesystem.html#gab9ed4662e08969fd835eb97b047803f4" title="Return a make file location if it can be found." alt="" coords="483,12,680,39"/></map>
</div>
</p>

<p><div id="dynsection-3" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__get__params_ga31dd7ffa81ecf01ffe2ade129ec9998d_icgraph.png" border="0" usemap="#group__get__params_ga31dd7ffa81ecf01ffe2ade129ec9998d_icgraph" alt=""/></div>
<map name="group__get__params_ga31dd7ffa81ecf01ffe2ade129ec9998d_icgraph" id="group__get__params_ga31dd7ffa81ecf01ffe2ade129ec9998d_icgraph">
<area shape="rect" id="node2" href="group__get__params.html#gad7711d36a38bbc35b89507a009e6f88c" title="Parse rush parameter files and return an array of parameters." alt="" coords="227,31,352,57"/><area shape="rect" id="node3" href="group__commandcallbacks.html#ga7462df2e5f0265288ce9beb03ea9c3a9" title="Drush rush command callback." alt="" coords="419,5,509,32"/><area shape="rect" id="node4" href="group__commandcallbacks.html#ga7068812064767011f14560a4d963843d" title="Drush rush&#45;show command callback." alt="" coords="401,56,527,83"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga443fac6061c92d86acfcd7192dbdb3f9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">_rush_derive_parameters_build </td>
          <td>(</td>
          <td class="paramtype">&amp;&#160;</td>
          <td class="paramname"><em>$params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&amp;&#160;</td>
          <td class="paramname"><em>$derived</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Derive missing build parameters. </p>
<p>To see a list of all derived params add &ndash;show=derived to the rush command.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$params</td><td>An associative array of all rush parameters. </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$derived</td><td>An array to track derived params to output during &ndash;show-derived.</td></tr>
  </table>
  </dd>
</dl>
<dl class="backlog"><dt><b><a class="el" href="backlog.html#_backlog000003">Backlog:</a></b></dt><dd><p class="startdd">Make some of these detections smarter by system type &amp; directory tests. </p>
<p>Add inline comments when needed. </p>
<p class="enddd">Create a makefile name param to change just the name but not path. </p>
</dd></dl>

<p>Definition at line <a class="el" href="params_8inc_source.html#l00181">181</a> of file <a class="el" href="params_8inc_source.html">params.inc</a>.</p>

<p>References <a class="el" href="filesystem_8inc_source.html#l00167">_rush_derive_make_file_path()</a>.</p>

<p>Referenced by <a class="el" href="params_8inc_source.html#l00150">_rush_derive_parameters()</a>.</p>
<div class="fragment"><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;                                                            {</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;  <span class="comment">// To avoid requiring a domain in each build ini file, use the</span></div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;  <span class="comment">// build job folder name by default plus the env tld.</span></div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;  <span class="keywordflow">if</span> (empty($params[<span class="stringliteral">&#39;build&#39;</span>][<span class="stringliteral">&#39;domain&#39;</span>])) {</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    $args          = drush_get_arguments();</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    $job_full_name = $args[1];</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    $job_name                   = $job_full_name;</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    $job_name                   = str_replace(<span class="charliteral">&#39; &#39;</span>, <span class="charliteral">&#39;_&#39;</span>, $job_name);</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    $domain                     = $job_name . $params[<span class="stringliteral">&#39;env&#39;</span>][<span class="stringliteral">&#39;tld&#39;</span>];</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    $derived[<span class="stringliteral">&#39;build&#39;</span>][<span class="stringliteral">&#39;domain&#39;</span>] = $params[<span class="stringliteral">&#39;build&#39;</span>][<span class="stringliteral">&#39;domain&#39;</span>] = strtolower($domain);</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;  }</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;  <span class="keywordflow">if</span> (empty($params[<span class="stringliteral">&#39;build&#39;</span>][<span class="stringliteral">&#39;machine_name&#39;</span>])) {</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    $machine_name                     = str_replace(<span class="charliteral">&#39;.&#39;</span>, <span class="charliteral">&#39;_&#39;</span>, $params[<span class="stringliteral">&#39;build&#39;</span>][<span class="stringliteral">&#39;domain&#39;</span>]);</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    $derived[<span class="stringliteral">&#39;build&#39;</span>][<span class="stringliteral">&#39;machine_name&#39;</span>] = $params[<span class="stringliteral">&#39;build&#39;</span>][<span class="stringliteral">&#39;machine_name&#39;</span>] = $machine_name;</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;  }</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;  <span class="keywordflow">if</span> (empty($params[<span class="stringliteral">&#39;build&#39;</span>][<span class="stringliteral">&#39;site_uri&#39;</span>])) {</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    $derived[<span class="stringliteral">&#39;build&#39;</span>][<span class="stringliteral">&#39;site_uri&#39;</span>] = $params[<span class="stringliteral">&#39;build&#39;</span>][<span class="stringliteral">&#39;site_uri&#39;</span>] = <span class="stringliteral">&#39;http://&#39;</span> . $params[<span class="stringliteral">&#39;build&#39;</span>][<span class="stringliteral">&#39;domain&#39;</span>];</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;  }</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;  <span class="comment">// MAMP default port is not set to 80.</span></div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;  <span class="comment">// Any host port not set to 80 will have the port added to the site url.</span></div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;  <span class="keywordflow">if</span> ($params[<span class="stringliteral">&#39;env&#39;</span>][<span class="stringliteral">&#39;host_port&#39;</span>] != <span class="stringliteral">&#39;80&#39;</span>) {</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    $derived[<span class="stringliteral">&#39;build&#39;</span>][<span class="stringliteral">&#39;site_uri&#39;</span>] = $params[<span class="stringliteral">&#39;build&#39;</span>][<span class="stringliteral">&#39;site_uri&#39;</span>] = $params[<span class="stringliteral">&#39;build&#39;</span>][<span class="stringliteral">&#39;site_uri&#39;</span>] . <span class="charliteral">&#39;:&#39;</span> . $params[<span class="stringliteral">&#39;env&#39;</span>][<span class="stringliteral">&#39;host_port&#39;</span>];</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;  }</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;  <span class="comment">// The build_root_directory_name is usually the name of webroot directory on</span></div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;  <span class="comment">// the server. Example settings include: &#39;www&#39;, &#39;websites&#39;, and &#39;Sites&#39;.</span></div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;  <span class="comment">// If the directory name is not set in the global.ini file then set it to</span></div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;  <span class="comment">// &#39;Sites&#39; as a default; which is kind of OSX-centric.</span></div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;  <span class="keywordflow">if</span> (empty($params[<span class="stringliteral">&#39;build&#39;</span>][<span class="stringliteral">&#39;root_directory_name&#39;</span>])) {</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    $derived[<span class="stringliteral">&#39;build&#39;</span>][<span class="stringliteral">&#39;root_directory_name&#39;</span>] = $params[<span class="stringliteral">&#39;build&#39;</span>][<span class="stringliteral">&#39;root_directory_name&#39;</span>] = <span class="stringliteral">&#39;Sites&#39;</span>;</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;  }</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;  <span class="comment">// The build_root_directory_path is usually the path to the webroot directory</span></div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;  <span class="comment">// on the server. Usually it&#39;s something like &#39;~/webroot&#39;.</span></div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;  <span class="comment">// Note, it does not have to be.  A particular Drush Rush job may be just to</span></div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;  <span class="comment">// download a bunch of code libraries to a user directory for the use of code</span></div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;  <span class="comment">// completion via an IDE include libraries option. With special cases, the</span></div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;  <span class="comment">// build_root_directory_path can be changed in a job ini file.</span></div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;  <span class="keywordflow">if</span> (empty($params[<span class="stringliteral">&#39;build&#39;</span>][<span class="stringliteral">&#39;root_directory_path&#39;</span>])) {</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    $derived[<span class="stringliteral">&#39;build&#39;</span>][<span class="stringliteral">&#39;root_directory_path&#39;</span>] = $params[<span class="stringliteral">&#39;build&#39;</span>][<span class="stringliteral">&#39;root_directory_path&#39;</span>] = $params[<span class="stringliteral">&#39;global_locations&#39;</span>][<span class="stringliteral">&#39;RUSH_SERVER_HOME&#39;</span>] . $params[<span class="stringliteral">&#39;build&#39;</span>][<span class="stringliteral">&#39;root_directory_name&#39;</span>] . <span class="charliteral">&#39;/&#39;</span>;</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;  }</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;  <span class="keywordflow">if</span> (empty($params[<span class="stringliteral">&#39;build&#39;</span>][<span class="stringliteral">&#39;backups_directory_name&#39;</span>])) {</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    $derived[<span class="stringliteral">&#39;build&#39;</span>][<span class="stringliteral">&#39;backups_directory_name&#39;</span>] = $params[<span class="stringliteral">&#39;build&#39;</span>][<span class="stringliteral">&#39;backups_directory_name&#39;</span>] = <span class="stringliteral">&#39;backups&#39;</span>;</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;  }</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;  <span class="keywordflow">if</span> (empty($params[<span class="stringliteral">&#39;build&#39;</span>][<span class="stringliteral">&#39;backups_directory_path&#39;</span>])) {</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    $derived[<span class="stringliteral">&#39;build&#39;</span>][<span class="stringliteral">&#39;backups_directory_path&#39;</span>] = $params[<span class="stringliteral">&#39;build&#39;</span>][<span class="stringliteral">&#39;backups_directory_path&#39;</span>] = $derived[<span class="stringliteral">&#39;build&#39;</span>][<span class="stringliteral">&#39;root_directory_path&#39;</span>] . $params[<span class="stringliteral">&#39;build&#39;</span>][<span class="stringliteral">&#39;backups_directory_name&#39;</span>] . <span class="charliteral">&#39;/&#39;</span>;</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;  }</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;  <span class="comment">// If there is no build logs path, then try to find one in the root</span></div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;  <span class="comment">// directory path.</span></div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;  <span class="keywordflow">if</span> (empty($params[<span class="stringliteral">&#39;build&#39;</span>][<span class="stringliteral">&#39;logs_path&#39;</span>])) {</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    $derived[<span class="stringliteral">&#39;build&#39;</span>][<span class="stringliteral">&#39;logs_path&#39;</span>] = $params[<span class="stringliteral">&#39;build&#39;</span>][<span class="stringliteral">&#39;logs_path&#39;</span>] = $derived[<span class="stringliteral">&#39;build&#39;</span>][<span class="stringliteral">&#39;root_directory_path&#39;</span>] . <span class="stringliteral">&#39;logs/&#39;</span>;</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    <span class="keywordflow">if</span> (!is_dir($derived[<span class="stringliteral">&#39;build&#39;</span>][<span class="stringliteral">&#39;logs_path&#39;</span>])) {</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;      <span class="comment">// If the directory does not exist, then unset the param.</span></div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;      unset($derived[<span class="stringliteral">&#39;build&#39;</span>][<span class="stringliteral">&#39;logs_path&#39;</span>]);</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;      unset($params[<span class="stringliteral">&#39;build&#39;</span>][<span class="stringliteral">&#39;logs_path&#39;</span>]);</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    }</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;  }</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;  <span class="comment">// The build_directory_name is automatically derived based on the</span></div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;  <span class="comment">// build_machine_name.  However, setting this value in a job params file will</span></div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;  <span class="comment">// override the name. This is useful if you want a sub job to use the same</span></div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;  <span class="comment">// path name as the parent job.</span></div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;  <span class="keywordflow">if</span> (empty($params[<span class="stringliteral">&#39;build&#39;</span>][<span class="stringliteral">&#39;directory_name&#39;</span>])) {</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    $derived[<span class="stringliteral">&#39;build&#39;</span>][<span class="stringliteral">&#39;directory_name&#39;</span>] = $params[<span class="stringliteral">&#39;build&#39;</span>][<span class="stringliteral">&#39;directory_name&#39;</span>] = $params[<span class="stringliteral">&#39;build&#39;</span>][<span class="stringliteral">&#39;machine_name&#39;</span>];</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;  }</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;  <span class="comment">// The build_directory_path is the sum of the build_root_directory_path and</span></div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;  <span class="comment">// the build_directory_name.  It&#39;s automatically derived.  However, setting</span></div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;  <span class="comment">// this value in a job params file will override the path.  In practice, this</span></div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;  <span class="comment">// would be the only value needed to be overwritten, rather than the</span></div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;  <span class="comment">// build_root_directory_path and the build_machine_name.</span></div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;  <span class="keywordflow">if</span> (empty($params[<span class="stringliteral">&#39;build&#39;</span>][<span class="stringliteral">&#39;directory_path&#39;</span>])) {</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    $derived[<span class="stringliteral">&#39;build&#39;</span>][<span class="stringliteral">&#39;directory_path&#39;</span>] = $params[<span class="stringliteral">&#39;build&#39;</span>][<span class="stringliteral">&#39;directory_path&#39;</span>] = $params[<span class="stringliteral">&#39;build&#39;</span>][<span class="stringliteral">&#39;root_directory_path&#39;</span>] . $params[<span class="stringliteral">&#39;build&#39;</span>][<span class="stringliteral">&#39;directory_name&#39;</span>] . <span class="charliteral">&#39;/&#39;</span>;</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;  }</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;  <span class="comment">// A Drupal project stored in version control may have it&#39;s docroot</span></div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;  <span class="comment">// (Drupal codebase) in a sub-directory of the overall project. Drush Rush</span></div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;  <span class="comment">// must know where the core Drupal code is.  Example values include: &#39;htdocs&#39;,</span></div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;  <span class="comment">// &#39;www&#39;, and &#39;docroot&#39;.  Drush Rush defaults to &#39;docroot&#39;.</span></div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;  <span class="keywordflow">if</span> (empty($params[<span class="stringliteral">&#39;build&#39;</span>][<span class="stringliteral">&#39;docroot_name&#39;</span>])) {</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    $derived[<span class="stringliteral">&#39;build&#39;</span>][<span class="stringliteral">&#39;docroot_name&#39;</span>] = $params[<span class="stringliteral">&#39;build&#39;</span>][<span class="stringliteral">&#39;docroot_name&#39;</span>] = <span class="stringliteral">&#39;docroot&#39;</span>;</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;  }</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;  <span class="comment">// This is the docroot_path used by Drush and Apache Vhosts.</span></div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;  <span class="keywordflow">if</span> (empty($params[<span class="stringliteral">&#39;build&#39;</span>][<span class="stringliteral">&#39;docroot_path&#39;</span>])) {</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    $derived[<span class="stringliteral">&#39;build&#39;</span>][<span class="stringliteral">&#39;docroot_path&#39;</span>] = $params[<span class="stringliteral">&#39;build&#39;</span>][<span class="stringliteral">&#39;docroot_path&#39;</span>] = $params[<span class="stringliteral">&#39;build&#39;</span>][<span class="stringliteral">&#39;directory_path&#39;</span>] . $params[<span class="stringliteral">&#39;build&#39;</span>][<span class="stringliteral">&#39;docroot_name&#39;</span>] . <span class="charliteral">&#39;/&#39;</span>;</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;  }</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;  <span class="comment">// Build code_directory_path path is typically an alias for the docroot_path.</span></div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;  <span class="comment">// However, it can be changed if the codebase is located somewhere else.</span></div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;  <span class="keywordflow">if</span> (empty($params[<span class="stringliteral">&#39;build&#39;</span>][<span class="stringliteral">&#39;code_directory_path&#39;</span>])) {</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    $derived[<span class="stringliteral">&#39;build&#39;</span>][<span class="stringliteral">&#39;code_directory_path&#39;</span>] = $params[<span class="stringliteral">&#39;build&#39;</span>][<span class="stringliteral">&#39;code_directory_path&#39;</span>] = $params[<span class="stringliteral">&#39;build&#39;</span>][<span class="stringliteral">&#39;docroot_path&#39;</span>];</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;  }</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;  <span class="comment">// The name of the Drupal site folder, inside the sites directory.</span></div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;  <span class="keywordflow">if</span> (empty($params[<span class="stringliteral">&#39;build&#39;</span>][<span class="stringliteral">&#39;site_folder_name&#39;</span>])) {</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    $derived[<span class="stringliteral">&#39;build&#39;</span>][<span class="stringliteral">&#39;site_folder_name&#39;</span>] = $params[<span class="stringliteral">&#39;build&#39;</span>][<span class="stringliteral">&#39;site_folder_name&#39;</span>] = <span class="stringliteral">&#39;default&#39;</span>;</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;  }</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;  <span class="comment">// Site specification used by Drush.</span></div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;  <span class="keywordflow">if</span> (empty($params[<span class="stringliteral">&#39;build&#39;</span>][<span class="stringliteral">&#39;site_specification&#39;</span>])) {</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    $derived[<span class="stringliteral">&#39;build&#39;</span>][<span class="stringliteral">&#39;site_specification&#39;</span>] = $params[<span class="stringliteral">&#39;build&#39;</span>][<span class="stringliteral">&#39;site_specification&#39;</span>] = $params[<span class="stringliteral">&#39;build&#39;</span>][<span class="stringliteral">&#39;code_directory_path&#39;</span>] . <span class="stringliteral">&#39;?uri=&#39;</span> . $params[<span class="stringliteral">&#39;build&#39;</span>][<span class="stringliteral">&#39;site_uri&#39;</span>] . <span class="charliteral">&#39;#&#39;</span> . $params[<span class="stringliteral">&#39;build&#39;</span>][<span class="stringliteral">&#39;site_folder_name&#39;</span>];</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;  }</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;  <span class="comment">// Site alias record used by Drush.</span></div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;  <span class="keywordflow">if</span> (empty($params[<span class="stringliteral">&#39;build&#39;</span>][<span class="stringliteral">&#39;site_alias_record&#39;</span>])) {</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    $derived[<span class="stringliteral">&#39;build&#39;</span>][<span class="stringliteral">&#39;site_alias_record&#39;</span>] = $params[<span class="stringliteral">&#39;build&#39;</span>][<span class="stringliteral">&#39;site_alias_record&#39;</span>] = drush_sitealias_get_record($params[<span class="stringliteral">&#39;build&#39;</span>][<span class="stringliteral">&#39;site_specification&#39;</span>]);</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;  }</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;  <span class="comment">// Site profile used by Drush Site Install.</span></div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;  <span class="keywordflow">if</span> (empty($params[<span class="stringliteral">&#39;build&#39;</span>][<span class="stringliteral">&#39;site_profile&#39;</span>])) {</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    $derived[<span class="stringliteral">&#39;build&#39;</span>][<span class="stringliteral">&#39;site_profile&#39;</span>] = $params[<span class="stringliteral">&#39;build&#39;</span>][<span class="stringliteral">&#39;site_profile&#39;</span>] = <span class="stringliteral">&#39;standard&#39;</span>;</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;  }</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;  <span class="comment">// Make file name.</span></div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;  <span class="keywordflow">if</span> (empty($params[<span class="stringliteral">&#39;build&#39;</span>][<span class="stringliteral">&#39;make_file&#39;</span>])) {</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    $derived[<span class="stringliteral">&#39;build&#39;</span>][<span class="stringliteral">&#39;make_file&#39;</span>] = $params[<span class="stringliteral">&#39;build&#39;</span>][<span class="stringliteral">&#39;make_file&#39;</span>] = <span class="stringliteral">&#39;default.make&#39;</span>;</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;  }</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;  <span class="comment">// There may not always be a make file.</span></div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;  <span class="comment">// This will auto set a make file if it can find one.</span></div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;  <span class="keywordflow">if</span> (empty($params[<span class="stringliteral">&#39;build&#39;</span>][<span class="stringliteral">&#39;make_file_path&#39;</span>])) {</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    $make_file_path = <a class="code" href="group__filesystem.html#gab9ed4662e08969fd835eb97b047803f4" title="Return a make file location if it can be found.">_rush_derive_make_file_path</a>($params, $params[<span class="stringliteral">&#39;build&#39;</span>][<span class="stringliteral">&#39;make_file&#39;</span>]);</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    <span class="keywordflow">if</span> ($make_file_path != FALSE) {</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;      $derived[<span class="stringliteral">&#39;build&#39;</span>][<span class="stringliteral">&#39;make_file_path&#39;</span>] = $params[<span class="stringliteral">&#39;build&#39;</span>][<span class="stringliteral">&#39;make_file_path&#39;</span>] = $make_file_path;</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    }</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;  }</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;  <span class="comment">// This is not an important parameter, so it&#39;s derived by default.</span></div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;  <span class="comment">// It&#39;s used to drop place-holder text into a file when auto-created by</span></div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;  <span class="comment">// Drush Rush.  In keeping with allowing lot&#39;s of configuration options, this</span></div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;  <span class="comment">// setting can also be changed in a global params file or build params file.</span></div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;  <span class="keywordflow">if</span> (empty($params[<span class="stringliteral">&#39;build&#39;</span>][<span class="stringliteral">&#39;file_list_data&#39;</span>])) {</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    $derived[<span class="stringliteral">&#39;build&#39;</span>][<span class="stringliteral">&#39;file_list_data&#39;</span>] = $params[<span class="stringliteral">&#39;build&#39;</span>][<span class="stringliteral">&#39;file_list_data&#39;</span>] = <span class="stringliteral">&#39;File added by Drush Rush.&#39;</span>;</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;  }</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;}</div>
</div><!-- fragment -->
<p><div id="dynsection-4" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-4-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-4-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-4-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__get__params_ga443fac6061c92d86acfcd7192dbdb3f9_cgraph.png" border="0" usemap="#group__get__params_ga443fac6061c92d86acfcd7192dbdb3f9_cgraph" alt=""/></div>
<map name="group__get__params_ga443fac6061c92d86acfcd7192dbdb3f9_cgraph" id="group__get__params_ga443fac6061c92d86acfcd7192dbdb3f9_cgraph">
<area shape="rect" id="node2" href="group__filesystem.html#gab9ed4662e08969fd835eb97b047803f4" title="Return a make file location if it can be found." alt="" coords="227,12,424,39"/></map>
</div>
</p>

<p><div id="dynsection-5" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-5-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-5-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-5-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__get__params_ga443fac6061c92d86acfcd7192dbdb3f9_icgraph.png" border="0" usemap="#group__get__params_ga443fac6061c92d86acfcd7192dbdb3f9_icgraph" alt=""/></div>
<map name="group__get__params_ga443fac6061c92d86acfcd7192dbdb3f9_icgraph" id="group__get__params_ga443fac6061c92d86acfcd7192dbdb3f9_icgraph">
<area shape="rect" id="node2" href="group__get__params.html#ga31dd7ffa81ecf01ffe2ade129ec9998d" title="Derive missing parameters." alt="" coords="227,31,400,57"/><area shape="rect" id="node3" href="group__get__params.html#gad7711d36a38bbc35b89507a009e6f88c" title="Parse rush parameter files and return an array of parameters." alt="" coords="448,31,573,57"/><area shape="rect" id="node4" href="group__commandcallbacks.html#ga7462df2e5f0265288ce9beb03ea9c3a9" title="Drush rush command callback." alt="" coords="641,5,730,32"/><area shape="rect" id="node5" href="group__commandcallbacks.html#ga7068812064767011f14560a4d963843d" title="Drush rush&#45;show command callback." alt="" coords="622,56,749,83"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga5d122a82e279e783ea3767d138424610"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">_rush_derive_parameters_db </td>
          <td>(</td>
          <td class="paramtype">&amp;&#160;</td>
          <td class="paramname"><em>$params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&amp;&#160;</td>
          <td class="paramname"><em>$derived</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Derive missing db parameters. </p>
<p>To see a list of all derived params add &ndash;show=derived to the rush command.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$params</td><td>An associative array of all rush parameters. </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$derived</td><td>An array to track derived params to output during &ndash;show-derived.</td></tr>
  </table>
  </dd>
</dl>
<dl class="backlog"><dt><b><a class="el" href="backlog.html#_backlog000004">Backlog:</a></b></dt><dd><p class="startdd">Make some of these detections smarter by system type &amp; directory tests. </p>
<p class="enddd">Add inline comments when needed. </p>
</dd></dl>

<p>Definition at line <a class="el" href="params_8inc_source.html#l00330">330</a> of file <a class="el" href="params_8inc_source.html">params.inc</a>.</p>

<p>Referenced by <a class="el" href="params_8inc_source.html#l00150">_rush_derive_parameters()</a>.</p>
<div class="fragment"><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;                                                         {</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;  <span class="comment">// Default to the db type of mysql.</span></div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;  <span class="keywordflow">if</span> (empty($params[<span class="stringliteral">&#39;db&#39;</span>][<span class="stringliteral">&#39;type&#39;</span>])) {</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    $derived[<span class="stringliteral">&#39;db&#39;</span>][<span class="stringliteral">&#39;type&#39;</span>] = $params[<span class="stringliteral">&#39;db&#39;</span>][<span class="stringliteral">&#39;type&#39;</span>] = <span class="stringliteral">&#39;mysql&#39;</span>;</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;  }</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;  <span class="comment">// Default to the server of localhost.</span></div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;  <span class="keywordflow">if</span> (empty($params[<span class="stringliteral">&#39;db&#39;</span>][<span class="stringliteral">&#39;server&#39;</span>])) {</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    $derived[<span class="stringliteral">&#39;db&#39;</span>][<span class="stringliteral">&#39;server&#39;</span>] = $params[<span class="stringliteral">&#39;db&#39;</span>][<span class="stringliteral">&#39;server&#39;</span>] = <span class="stringliteral">&#39;localhost&#39;</span>;</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;  }</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;  <span class="comment">// Default to the server of 3306.</span></div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;  <span class="comment">// Note: MAMP runs mysql by default on port: 8889.</span></div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;  <span class="keywordflow">if</span> (empty($params[<span class="stringliteral">&#39;db&#39;</span>][<span class="stringliteral">&#39;port&#39;</span>])) {</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    $derived[<span class="stringliteral">&#39;db&#39;</span>][<span class="stringliteral">&#39;port&#39;</span>] = $params[<span class="stringliteral">&#39;db&#39;</span>][<span class="stringliteral">&#39;port&#39;</span>] = <span class="stringliteral">&#39;3306&#39;</span>;</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;  }</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;  <span class="comment">// Default to root.  Should be changed in params to a user with just the</span></div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;  <span class="comment">// appropriate amount of permissions and no more.</span></div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;  <span class="keywordflow">if</span> (empty($params[<span class="stringliteral">&#39;db&#39;</span>][<span class="stringliteral">&#39;user&#39;</span>])) {</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    $derived[<span class="stringliteral">&#39;db&#39;</span>][<span class="stringliteral">&#39;user&#39;</span>] = $params[<span class="stringliteral">&#39;db&#39;</span>][<span class="stringliteral">&#39;user&#39;</span>] = <span class="stringliteral">&#39;root&#39;</span>;</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;  }</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;  <span class="comment">// Default to root. Rarely safe, unless behind an excellent firewall on a</span></div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;  <span class="comment">// secure box.  Change in params as needed.</span></div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;  <span class="keywordflow">if</span> (empty($params[<span class="stringliteral">&#39;db&#39;</span>][<span class="stringliteral">&#39;password&#39;</span>])) {</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;    $derived[<span class="stringliteral">&#39;db&#39;</span>][<span class="stringliteral">&#39;password&#39;</span>] = $params[<span class="stringliteral">&#39;db&#39;</span>][<span class="stringliteral">&#39;password&#39;</span>] = <span class="stringliteral">&#39;root&#39;</span>;</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;  }</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;  <span class="comment">// The db name will usually be set in the project params file.</span></div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;  <span class="comment">// If not, set it to the project machine name.</span></div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;  <span class="keywordflow">if</span> (empty($params[<span class="stringliteral">&#39;db&#39;</span>][<span class="stringliteral">&#39;name&#39;</span>])) {</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    $derived[<span class="stringliteral">&#39;db&#39;</span>][<span class="stringliteral">&#39;name&#39;</span>] = $params[<span class="stringliteral">&#39;db&#39;</span>][<span class="stringliteral">&#39;name&#39;</span>] = $params[<span class="stringliteral">&#39;build&#39;</span>][<span class="stringliteral">&#39;machine_name&#39;</span>];</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;  }</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;  <span class="comment">// The db directory name will usually be set in the project params file.</span></div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;  <span class="comment">// If not, set it &#39;sql&#39;.</span></div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;  <span class="comment">// This is where db files will be stored. SQL dumps or sqlite files.</span></div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;  <span class="comment">// The directory is assumed to be within the [&#39;build&#39;][&#39;directory_path&#39;] but</span></div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;  <span class="comment">// it doesn&#39;t have to be.</span></div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;  <span class="keywordflow">if</span> (empty($params[<span class="stringliteral">&#39;db&#39;</span>][<span class="stringliteral">&#39;directory_name&#39;</span>])) {</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;    $derived[<span class="stringliteral">&#39;db&#39;</span>][<span class="stringliteral">&#39;directory_name&#39;</span>] = $params[<span class="stringliteral">&#39;db&#39;</span>][<span class="stringliteral">&#39;directory_name&#39;</span>] = <span class="stringliteral">&#39;sql&#39;</span>;</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;  }</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;  <span class="comment">// Set the default location of the db directory path to be within the build</span></div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;  <span class="comment">// directory.  Change this if the job&#39;s db files are located somewhere else</span></div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;  <span class="comment">// on the system.</span></div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;  <span class="keywordflow">if</span> (empty($params[<span class="stringliteral">&#39;db&#39;</span>][<span class="stringliteral">&#39;directory_path&#39;</span>])) {</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    $derived[<span class="stringliteral">&#39;db&#39;</span>][<span class="stringliteral">&#39;directory_path&#39;</span>] = $params[<span class="stringliteral">&#39;db&#39;</span>][<span class="stringliteral">&#39;directory_path&#39;</span>] = $params[<span class="stringliteral">&#39;build&#39;</span>][<span class="stringliteral">&#39;directory_path&#39;</span>] . $params[<span class="stringliteral">&#39;db&#39;</span>][<span class="stringliteral">&#39;directory_name&#39;</span>] . <span class="charliteral">&#39;/&#39;</span>;</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;  }</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;  <span class="keywordflow">if</span> (empty($params[<span class="stringliteral">&#39;db&#39;</span>][<span class="stringliteral">&#39;file_ext&#39;</span>])) {</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    $derived[<span class="stringliteral">&#39;db&#39;</span>][<span class="stringliteral">&#39;file_ext&#39;</span>] = $params[<span class="stringliteral">&#39;db&#39;</span>][<span class="stringliteral">&#39;file_ext&#39;</span>] = <span class="stringliteral">&#39;sql&#39;</span>;</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;  }</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;  <span class="keywordflow">if</span> (empty($params[<span class="stringliteral">&#39;db&#39;</span>][<span class="stringliteral">&#39;file_name&#39;</span>])) {</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;    $derived[<span class="stringliteral">&#39;db&#39;</span>][<span class="stringliteral">&#39;file_name&#39;</span>] = $params[<span class="stringliteral">&#39;db&#39;</span>][<span class="stringliteral">&#39;file_name&#39;</span>] = $params[<span class="stringliteral">&#39;db&#39;</span>][<span class="stringliteral">&#39;name&#39;</span>] . <span class="charliteral">&#39;.&#39;</span> . $params[<span class="stringliteral">&#39;db&#39;</span>][<span class="stringliteral">&#39;file_ext&#39;</span>];</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;  }</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;  <span class="keywordflow">if</span> (empty($params[<span class="stringliteral">&#39;db&#39;</span>][<span class="stringliteral">&#39;file_path&#39;</span>])) {</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    $derived[<span class="stringliteral">&#39;db&#39;</span>][<span class="stringliteral">&#39;file_path&#39;</span>] = $params[<span class="stringliteral">&#39;db&#39;</span>][<span class="stringliteral">&#39;file_path&#39;</span>] = $params[<span class="stringliteral">&#39;db&#39;</span>][<span class="stringliteral">&#39;directory_path&#39;</span>] . $params[<span class="stringliteral">&#39;db&#39;</span>][<span class="stringliteral">&#39;file_name&#39;</span>];</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;  }</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;  <span class="comment">// Build the db url based on the database info above.</span></div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;  <span class="comment">// Override at the project level.</span></div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;  <span class="keywordflow">if</span> (empty($params[<span class="stringliteral">&#39;db&#39;</span>][<span class="stringliteral">&#39;url&#39;</span>])) {</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;    <span class="comment">// Extract variable names from the array to make the DB URLs easier to read.</span></div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    <span class="comment">// extract($params[&#39;db&#39;]);</span></div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    <span class="comment">// Extract scares code inspections, so fo now:</span></div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    $type      = $params[<span class="stringliteral">&#39;db&#39;</span>][<span class="stringliteral">&#39;type&#39;</span>];</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;    $user      = $params[<span class="stringliteral">&#39;db&#39;</span>][<span class="stringliteral">&#39;user&#39;</span>];</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;    $password  = $params[<span class="stringliteral">&#39;db&#39;</span>][<span class="stringliteral">&#39;password&#39;</span>];</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;    $port      = $params[<span class="stringliteral">&#39;db&#39;</span>][<span class="stringliteral">&#39;port&#39;</span>];</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;    $server    = $params[<span class="stringliteral">&#39;db&#39;</span>][<span class="stringliteral">&#39;server&#39;</span>];</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;    $name      = $params[<span class="stringliteral">&#39;db&#39;</span>][<span class="stringliteral">&#39;name&#39;</span>];</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;    $file_path = $params[<span class="stringliteral">&#39;db&#39;</span>][<span class="stringliteral">&#39;file_path&#39;</span>];</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;    <span class="keywordflow">switch</span> ($type) {</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;      <span class="keywordflow">case</span> <span class="stringliteral">&#39;mysql&#39;</span>:</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;        $derived[<span class="stringliteral">&#39;db&#39;</span>][<span class="stringliteral">&#39;url&#39;</span>] = $params[<span class="stringliteral">&#39;db&#39;</span>][<span class="stringliteral">&#39;url&#39;</span>] = <span class="stringliteral">&quot;$type://$user:$password@$server:$port/$name&quot;</span>;</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;      <span class="keywordflow">case</span> <span class="stringliteral">&#39;sqlite&#39;</span>:</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;        $derived[<span class="stringliteral">&#39;db&#39;</span>][<span class="stringliteral">&#39;url&#39;</span>] = $params[<span class="stringliteral">&#39;db&#39;</span>][<span class="stringliteral">&#39;url&#39;</span>] = <span class="stringliteral">&quot;$type://$file_path&quot;</span>;</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;    }</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;  }</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;}</div>
</div><!-- fragment -->
<p><div id="dynsection-6" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-6-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-6-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-6-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__get__params_ga5d122a82e279e783ea3767d138424610_icgraph.png" border="0" usemap="#group__get__params_ga5d122a82e279e783ea3767d138424610_icgraph" alt=""/></div>
<map name="group__get__params_ga5d122a82e279e783ea3767d138424610_icgraph" id="group__get__params_ga5d122a82e279e783ea3767d138424610_icgraph">
<area shape="rect" id="node2" href="group__get__params.html#ga31dd7ffa81ecf01ffe2ade129ec9998d" title="Derive missing parameters." alt="" coords="251,31,424,57"/><area shape="rect" id="node3" href="group__get__params.html#gad7711d36a38bbc35b89507a009e6f88c" title="Parse rush parameter files and return an array of parameters." alt="" coords="472,31,597,57"/><area shape="rect" id="node4" href="group__commandcallbacks.html#ga7462df2e5f0265288ce9beb03ea9c3a9" title="Drush rush command callback." alt="" coords="665,5,754,32"/><area shape="rect" id="node5" href="group__commandcallbacks.html#ga7068812064767011f14560a4d963843d" title="Drush rush&#45;show command callback." alt="" coords="646,56,773,83"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga9af08c808c5ddd9d59fe9c550e55ea65"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">_rush_derive_parameters_env </td>
          <td>(</td>
          <td class="paramtype">&amp;&#160;</td>
          <td class="paramname"><em>$params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&amp;&#160;</td>
          <td class="paramname"><em>$derived</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Derive missing env parameters. </p>
<p>To see a list of all derived params add &ndash;show=derived to the rush command.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$params</td><td>An associative array of all rush parameters. </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$derived</td><td>An array to track derived params to output during &ndash;show-derived.</td></tr>
  </table>
  </dd>
</dl>
<dl class="backlog"><dt><b><a class="el" href="backlog.html#_backlog000006">Backlog:</a></b></dt><dd><p class="startdd">Make some of these detections smarter by system type &amp; directory tests. </p>
<p class="enddd">Add inline comments when needed. </p>
</dd></dl>

<p>Definition at line <a class="el" href="params_8inc_source.html#l00483">483</a> of file <a class="el" href="params_8inc_source.html">params.inc</a>.</p>

<p>Referenced by <a class="el" href="params_8inc_source.html#l00150">_rush_derive_parameters()</a>.</p>
<div class="fragment"><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;                                                          {</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;  <span class="comment">// Use .dev rather than .local as Mac Bonjour may interfere with .local.</span></div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;  <span class="keywordflow">if</span> (empty($params[<span class="stringliteral">&#39;env&#39;</span>][<span class="stringliteral">&#39;tld&#39;</span>])) {</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;    $derived[<span class="stringliteral">&#39;env&#39;</span>][<span class="stringliteral">&#39;tld&#39;</span>] = $params[<span class="stringliteral">&#39;env&#39;</span>][<span class="stringliteral">&#39;tld&#39;</span>] = <span class="stringliteral">&#39;.dev&#39;</span>;</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;  }</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;  <span class="keywordflow">if</span> (empty($params[<span class="stringliteral">&#39;env&#39;</span>][<span class="stringliteral">&#39;hosts_file_path&#39;</span>])) {</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;    $derived[<span class="stringliteral">&#39;env&#39;</span>][<span class="stringliteral">&#39;hosts_file_path&#39;</span>] = $params[<span class="stringliteral">&#39;env&#39;</span>][<span class="stringliteral">&#39;hosts_file_path&#39;</span>] = <span class="stringliteral">&#39;/etc/hosts&#39;</span>;</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;  }</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;  <span class="keywordflow">if</span> (empty($params[<span class="stringliteral">&#39;env&#39;</span>][<span class="stringliteral">&#39;vhosts_dir_path&#39;</span>])) {</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;    $derived[<span class="stringliteral">&#39;env&#39;</span>][<span class="stringliteral">&#39;vhosts_dir_path&#39;</span>] = $params[<span class="stringliteral">&#39;env&#39;</span>][<span class="stringliteral">&#39;vhosts_dir_path&#39;</span>] = <span class="stringliteral">&#39;/etc/apache2/sites-available/&#39;</span>;</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;  }</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;  <span class="keywordflow">if</span> (empty($params[<span class="stringliteral">&#39;env&#39;</span>][<span class="stringliteral">&#39;host_ip&#39;</span>])) {</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;    $derived[<span class="stringliteral">&#39;env&#39;</span>][<span class="stringliteral">&#39;host_ip&#39;</span>] = $params[<span class="stringliteral">&#39;env&#39;</span>][<span class="stringliteral">&#39;host_ip&#39;</span>] = <span class="stringliteral">&#39;127.0.0.1&#39;</span>;</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;  }</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;  <span class="keywordflow">if</span> (empty($params[<span class="stringliteral">&#39;env&#39;</span>][<span class="stringliteral">&#39;host_port&#39;</span>])) {</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;    $derived[<span class="stringliteral">&#39;env&#39;</span>][<span class="stringliteral">&#39;host_port&#39;</span>] = $params[<span class="stringliteral">&#39;env&#39;</span>][<span class="stringliteral">&#39;host_port&#39;</span>] = <span class="stringliteral">&#39;80&#39;</span>;</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;  }</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;}</div>
</div><!-- fragment -->
<p><div id="dynsection-7" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-7-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-7-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-7-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__get__params_ga9af08c808c5ddd9d59fe9c550e55ea65_icgraph.png" border="0" usemap="#group__get__params_ga9af08c808c5ddd9d59fe9c550e55ea65_icgraph" alt=""/></div>
<map name="group__get__params_ga9af08c808c5ddd9d59fe9c550e55ea65_icgraph" id="group__get__params_ga9af08c808c5ddd9d59fe9c550e55ea65_icgraph">
<area shape="rect" id="node2" href="group__get__params.html#ga31dd7ffa81ecf01ffe2ade129ec9998d" title="Derive missing parameters." alt="" coords="256,31,429,57"/><area shape="rect" id="node3" href="group__get__params.html#gad7711d36a38bbc35b89507a009e6f88c" title="Parse rush parameter files and return an array of parameters." alt="" coords="477,31,603,57"/><area shape="rect" id="node4" href="group__commandcallbacks.html#ga7462df2e5f0265288ce9beb03ea9c3a9" title="Drush rush command callback." alt="" coords="670,5,759,32"/><area shape="rect" id="node5" href="group__commandcallbacks.html#ga7068812064767011f14560a4d963843d" title="Drush rush&#45;show command callback." alt="" coords="651,56,778,83"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga71d53df6ee2f78dbb1e5cd3a8f926fe4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">_rush_derive_parameters_repo </td>
          <td>(</td>
          <td class="paramtype">&amp;&#160;</td>
          <td class="paramname"><em>$params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&amp;&#160;</td>
          <td class="paramname"><em>$derived</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Derive missing repo parameters. </p>
<p>To see a list of all derived params add &ndash;show=derived to the rush command.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$params</td><td>An associative array of all rush parameters. </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$derived</td><td>An array to track derived params to output during &ndash;show-derived.</td></tr>
  </table>
  </dd>
</dl>
<dl class="backlog"><dt><b><a class="el" href="backlog.html#_backlog000005">Backlog:</a></b></dt><dd><p class="startdd">Make some of these detections smarter by system type &amp; directory tests. </p>
<p class="enddd">Add inline comments when needed. </p>
</dd></dl>

<p>Definition at line <a class="el" href="params_8inc_source.html#l00426">426</a> of file <a class="el" href="params_8inc_source.html">params.inc</a>.</p>

<p>Referenced by <a class="el" href="params_8inc_source.html#l00150">_rush_derive_parameters()</a>.</p>
<div class="fragment"><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;                                                           {</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;  <span class="keywordflow">if</span> (empty($params[<span class="stringliteral">&#39;repo&#39;</span>][<span class="stringliteral">&#39;service&#39;</span>])) {</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;    $derived[<span class="stringliteral">&#39;repo&#39;</span>][<span class="stringliteral">&#39;service&#39;</span>] = $params[<span class="stringliteral">&#39;repo&#39;</span>][<span class="stringliteral">&#39;service&#39;</span>] = <span class="stringliteral">&#39;github&#39;</span>;</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;  }</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;  <span class="keywordflow">if</span> (empty($params[<span class="stringliteral">&#39;repo&#39;</span>][<span class="stringliteral">&#39;api_url&#39;</span>])) {</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;    $derived[<span class="stringliteral">&#39;repo&#39;</span>][<span class="stringliteral">&#39;api_url&#39;</span>] = $params[<span class="stringliteral">&#39;repo&#39;</span>][<span class="stringliteral">&#39;api_url&#39;</span>] = <span class="stringliteral">&#39;https://api.github.com&#39;</span>;</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;  }</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;  <span class="keywordflow">if</span> (empty($params[<span class="stringliteral">&#39;repo&#39;</span>][<span class="stringliteral">&#39;api_account&#39;</span>])) {</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;    $derived[<span class="stringliteral">&#39;repo&#39;</span>][<span class="stringliteral">&#39;api_account&#39;</span>] = $params[<span class="stringliteral">&#39;repo&#39;</span>][<span class="stringliteral">&#39;api_account&#39;</span>] = <span class="stringliteral">&#39;/user/&#39;</span>;</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;  }</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;  <span class="keywordflow">if</span> (empty($params[<span class="stringliteral">&#39;repo&#39;</span>][<span class="stringliteral">&#39;private&#39;</span>])) {</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;    $derived[<span class="stringliteral">&#39;repo&#39;</span>][<span class="stringliteral">&#39;private&#39;</span>] = $params[<span class="stringliteral">&#39;repo&#39;</span>][<span class="stringliteral">&#39;private&#39;</span>] = TRUE;</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;  }</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;  <span class="comment">// Set the default repo name.</span></div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;  <span class="keywordflow">if</span> (empty($params[<span class="stringliteral">&#39;repo&#39;</span>][<span class="stringliteral">&#39;name&#39;</span>])) {</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;    $derived[<span class="stringliteral">&#39;repo&#39;</span>][<span class="stringliteral">&#39;name&#39;</span>] = $params[<span class="stringliteral">&#39;repo&#39;</span>][<span class="stringliteral">&#39;name&#39;</span>] = $params[<span class="stringliteral">&#39;build&#39;</span>][<span class="stringliteral">&#39;machine_name&#39;</span>];</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;  }</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;  <span class="keywordflow">if</span> (empty($params[<span class="stringliteral">&#39;repo&#39;</span>][<span class="stringliteral">&#39;url&#39;</span>])) {</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;    <span class="keywordflow">if</span> (!empty($params[<span class="stringliteral">&#39;repo&#39;</span>][<span class="stringliteral">&#39;url_prefix&#39;</span>]) &amp;&amp; !empty($params[<span class="stringliteral">&#39;repo&#39;</span>][<span class="stringliteral">&#39;url_suffix&#39;</span>])) {</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;      $derived[<span class="stringliteral">&#39;repo&#39;</span>][<span class="stringliteral">&#39;url&#39;</span>] = $params[<span class="stringliteral">&#39;repo&#39;</span>][<span class="stringliteral">&#39;url&#39;</span>] = $params[<span class="stringliteral">&#39;repo&#39;</span>][<span class="stringliteral">&#39;url_prefix&#39;</span>] . $params[<span class="stringliteral">&#39;repo&#39;</span>][<span class="stringliteral">&#39;name&#39;</span>] . $params[<span class="stringliteral">&#39;repo&#39;</span>][<span class="stringliteral">&#39;url_suffix&#39;</span>];</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;    }</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;  }</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;  <span class="keywordflow">if</span> (empty($params[<span class="stringliteral">&#39;repo&#39;</span>][<span class="stringliteral">&#39;branch&#39;</span>])) {</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;    $derived[<span class="stringliteral">&#39;repo&#39;</span>][<span class="stringliteral">&#39;branch&#39;</span>] = $params[<span class="stringliteral">&#39;repo&#39;</span>][<span class="stringliteral">&#39;branch&#39;</span>] = <span class="stringliteral">&#39;master&#39;</span>;</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;  }</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;  <span class="keywordflow">if</span> (empty($params[<span class="stringliteral">&#39;repo&#39;</span>][<span class="stringliteral">&#39;remote&#39;</span>])) {</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;    $derived[<span class="stringliteral">&#39;repo&#39;</span>][<span class="stringliteral">&#39;remote&#39;</span>] = $params[<span class="stringliteral">&#39;repo&#39;</span>][<span class="stringliteral">&#39;remote&#39;</span>] = <span class="stringliteral">&#39;origin&#39;</span>;</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;  }</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;  <span class="comment">// Set the default repo commit message, which may be changed in param files.</span></div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;  <span class="keywordflow">if</span> (empty($params[<span class="stringliteral">&#39;repo&#39;</span>][<span class="stringliteral">&#39;commit_message&#39;</span>])) {</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;    $derived[<span class="stringliteral">&#39;repo&#39;</span>][<span class="stringliteral">&#39;commit_message&#39;</span>] = $params[<span class="stringliteral">&#39;repo&#39;</span>][<span class="stringliteral">&#39;commit_message&#39;</span>] = <span class="stringliteral">&#39;Automatic commit made by Drush Rush.&#39;</span>;</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;  }</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;}</div>
</div><!-- fragment -->
<p><div id="dynsection-8" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-8-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-8-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-8-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__get__params_ga71d53df6ee2f78dbb1e5cd3a8f926fe4_icgraph.png" border="0" usemap="#group__get__params_ga71d53df6ee2f78dbb1e5cd3a8f926fe4_icgraph" alt=""/></div>
<map name="group__get__params_ga71d53df6ee2f78dbb1e5cd3a8f926fe4_icgraph" id="group__get__params_ga71d53df6ee2f78dbb1e5cd3a8f926fe4_icgraph">
<area shape="rect" id="node2" href="group__get__params.html#ga31dd7ffa81ecf01ffe2ade129ec9998d" title="Derive missing parameters." alt="" coords="261,31,435,57"/><area shape="rect" id="node3" href="group__get__params.html#gad7711d36a38bbc35b89507a009e6f88c" title="Parse rush parameter files and return an array of parameters." alt="" coords="483,31,608,57"/><area shape="rect" id="node4" href="group__commandcallbacks.html#ga7462df2e5f0265288ce9beb03ea9c3a9" title="Drush rush command callback." alt="" coords="675,5,765,32"/><area shape="rect" id="node5" href="group__commandcallbacks.html#ga7068812064767011f14560a4d963843d" title="Drush rush&#45;show command callback." alt="" coords="657,56,783,83"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gae7e40e20b79c96a7ed07c195f2a69cae"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">_rush_derive_parameters_si </td>
          <td>(</td>
          <td class="paramtype">&amp;&#160;</td>
          <td class="paramname"><em>$params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&amp;&#160;</td>
          <td class="paramname"><em>$derived</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set some default si parameters if they are not present in a params file. </p>
<p>To see a list of all derived params add &ndash;show=derived to the rush command.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$params</td><td>An associative array of all rush parameters. </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$derived</td><td>An array to track derived params to output during &ndash;show-derived.</td></tr>
  </table>
  </dd>
</dl>
<dl class="backlog"><dt><b><a class="el" href="backlog.html#_backlog000007">Backlog:</a></b></dt><dd><p class="startdd">Make some of these detections smarter by system type &amp; directory tests. </p>
<p class="enddd">Add inline comments when needed. </p>
</dd></dl>

<p>Definition at line <a class="el" href="params_8inc_source.html#l00517">517</a> of file <a class="el" href="params_8inc_source.html">params.inc</a>.</p>

<p>Referenced by <a class="el" href="params_8inc_source.html#l00150">_rush_derive_parameters()</a>.</p>
<div class="fragment"><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;                                                         {</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;  <span class="keywordflow">if</span> (empty($params[<span class="stringliteral">&#39;si&#39;</span>][<span class="stringliteral">&#39;account-name&#39;</span>])) {</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;    $derived[<span class="stringliteral">&#39;si&#39;</span>][<span class="stringliteral">&#39;account-name&#39;</span>] = $params[<span class="stringliteral">&#39;si&#39;</span>][<span class="stringliteral">&#39;account-name&#39;</span>] = <span class="stringliteral">&#39;admin&#39;</span>;</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;  }</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;  <span class="keywordflow">if</span> (empty($params[<span class="stringliteral">&#39;si&#39;</span>][<span class="stringliteral">&#39;account-pass&#39;</span>])) {</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;    $derived[<span class="stringliteral">&#39;si&#39;</span>][<span class="stringliteral">&#39;account-pass&#39;</span>] = $params[<span class="stringliteral">&#39;si&#39;</span>][<span class="stringliteral">&#39;account-pass&#39;</span>] = <span class="stringliteral">&#39;admin&#39;</span>;</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;  }</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;  <span class="keywordflow">if</span> (empty($params[<span class="stringliteral">&#39;si&#39;</span>][<span class="stringliteral">&#39;site-name&#39;</span>])) {</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;    $derived[<span class="stringliteral">&#39;si&#39;</span>][<span class="stringliteral">&#39;site-name&#39;</span>] = $params[<span class="stringliteral">&#39;si&#39;</span>][<span class="stringliteral">&#39;site-name&#39;</span>] = $params[<span class="stringliteral">&#39;build&#39;</span>][<span class="stringliteral">&#39;machine_name&#39;</span>];</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;  }</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;}</div>
</div><!-- fragment -->
<p><div id="dynsection-9" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-9-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-9-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-9-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__get__params_gae7e40e20b79c96a7ed07c195f2a69cae_icgraph.png" border="0" usemap="#group__get__params_gae7e40e20b79c96a7ed07c195f2a69cae_icgraph" alt=""/></div>
<map name="group__get__params_gae7e40e20b79c96a7ed07c195f2a69cae_icgraph" id="group__get__params_gae7e40e20b79c96a7ed07c195f2a69cae_icgraph">
<area shape="rect" id="node2" href="group__get__params.html#ga31dd7ffa81ecf01ffe2ade129ec9998d" title="Derive missing parameters." alt="" coords="245,31,419,57"/><area shape="rect" id="node3" href="group__get__params.html#gad7711d36a38bbc35b89507a009e6f88c" title="Parse rush parameter files and return an array of parameters." alt="" coords="467,31,592,57"/><area shape="rect" id="node4" href="group__commandcallbacks.html#ga7462df2e5f0265288ce9beb03ea9c3a9" title="Drush rush command callback." alt="" coords="659,5,749,32"/><area shape="rect" id="node5" href="group__commandcallbacks.html#ga7068812064767011f14560a4d963843d" title="Drush rush&#45;show command callback." alt="" coords="641,56,767,83"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gad7711d36a38bbc35b89507a009e6f88c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">rush_get_params </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parse rush parameter files and return an array of parameters. </p>
<p>The following is the order of parsing:</p>
<ol type="1">
<li>Get params from the global params ini file if it exists.</li>
<li>Get params from the global params php file if it exists.<ul>
<li>Params in the php file will override the ini file.</li>
</ul>
</li>
<li>Get params from the job params ini file if it exists.</li>
<li>Merge global params with job params, letting job params override global.</li>
<li>Get params from the job params php file if it exists.<ul>
<li>Params in the job php file will override all params to this point.</li>
</ul>
</li>
</ol>
<dl class="section see"><dt>See Also</dt><dd>doc-parameters-list </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>array An associative array of all rush parameters. </dd></dl>

<p>Definition at line <a class="el" href="params_8inc_source.html#l00034">34</a> of file <a class="el" href="params_8inc_source.html">params.inc</a>.</p>

<p>References <a class="el" href="params_8inc_source.html#l00562">_rush_array_merge_recursive_distinct()</a>, <a class="el" href="params_8inc_source.html#l00150">_rush_derive_parameters()</a>, <a class="el" href="filesystem_8inc_source.html#l00074">rush_get_global_locations()</a>, and <a class="el" href="params_8inc_source.html#l00133">rush_parse_ini()</a>.</p>

<p>Referenced by <a class="el" href="rush_8drush_8inc_source.html#l00199">drush_rush()</a>, and <a class="el" href="rush_8drush_8inc_source.html#l00322">drush_rush_show()</a>.</p>
<div class="fragment"><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;                           {</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;  $global_locations = <a class="code" href="group__filesystem.html#ga42a80d15a0f8d53694c89532648d5b63" title="Extract Rush application folder locations.">rush_get_global_locations</a>();</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;  $params           = array();</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;  <span class="comment">// IMPORT GLOBAL PARAMETERS</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;  <span class="comment">// Get params from the global params ini file if it exists.</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;  $params_ini_file = $global_locations[<span class="stringliteral">&#39;RUSH_ENVIRONMENT_DIRECTORY_PATH&#39;</span>] . <span class="stringliteral">&#39;params.ini&#39;</span>;</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;  <span class="keywordflow">if</span> (file_exists($params_ini_file)) {</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    $msg = $msg = dt(<span class="stringliteral">&#39;[LOAD PARAMS FILE]: !file.&#39;</span>, array(<span class="stringliteral">&#39;!file&#39;</span> =&gt; $params_ini_file));</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    drush_log($msg, <span class="stringliteral">&#39;notice&#39;</span>);</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    $params = <a class="code" href="group__get__params.html#ga1d904fa261fedd26a696892343d2b062" title="Parse a params.ini file.">rush_parse_ini</a>($params_ini_file);</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;  }</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;  <span class="comment">// Get params from the global params php file if it exists.</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;  <span class="comment">// Params in the php file will override the ini file.</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;  $params_php_file = $global_locations[<span class="stringliteral">&#39;RUSH_ENVIRONMENT_DIRECTORY_PATH&#39;</span>] . <span class="stringliteral">&#39;params.php&#39;</span>;</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;  <span class="keywordflow">if</span> (file_exists($params_php_file)) {</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    $msg = $msg = dt(<span class="stringliteral">&#39;[LOAD PARAMS FILE]: !file.&#39;</span>, array(<span class="stringliteral">&#39;!file&#39;</span> =&gt; $params_php_file));</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    drush_log($msg, <span class="stringliteral">&#39;notice&#39;</span>);</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    include_once <span class="stringliteral">&quot;$params_php_file&quot;</span>;</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;  }</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;  unset($params_ini_file, $params_php_file);</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;  <span class="comment">// IMPORT TOP JOB PARAMETERS IF THERE IS A TOP JOB</span></div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;  <span class="comment">// If the job called is a sub job, then pull parameters from the top</span></div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;  <span class="comment">// job first.</span></div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;  <span class="keywordflow">if</span> (!empty($global_locations[<span class="stringliteral">&#39;RUSH_JOB_TOP_DIRECTORY_PATH&#39;</span>])) {</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    <span class="comment">// Get params from the top job params ini file if it exists.</span></div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    $params_ini_file = $global_locations[<span class="stringliteral">&#39;RUSH_JOB_TOP_DIRECTORY_PATH&#39;</span>] . <span class="stringliteral">&#39;params.ini&#39;</span>;</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    <span class="keywordflow">if</span> (file_exists($params_ini_file)) {</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;      $msg = $msg = dt(<span class="stringliteral">&#39;[LOAD PARAMS FILE]: !file.&#39;</span>, array(<span class="stringliteral">&#39;!file&#39;</span> =&gt; $params_ini_file));</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;      drush_log($msg, <span class="stringliteral">&#39;notice&#39;</span>);</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;      $top_job_params = <a class="code" href="group__get__params.html#ga1d904fa261fedd26a696892343d2b062" title="Parse a params.ini file.">rush_parse_ini</a>($params_ini_file);</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;      <span class="keywordflow">if</span> (!empty($top_job_params)) {</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;        <span class="comment">// Merge top job params with params set to this point, letting top job</span></div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;        <span class="comment">// params override.</span></div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;        $params = <a class="code" href="group__get__params.html#gac41c33874c97642471b59de59613356f" title="An array merge function which does not change data types during merge.">_rush_array_merge_recursive_distinct</a>($params, $top_job_params);</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;      }</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    }</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    <span class="comment">// Get params from the top job params php file if it exists.</span></div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    <span class="comment">// Params in the php file will override all params to this point.</span></div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    $params_php_file = $global_locations[<span class="stringliteral">&#39;RUSH_JOB_TOP_DIRECTORY_PATH&#39;</span>] . <span class="stringliteral">&#39;params.php&#39;</span>;</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    <span class="keywordflow">if</span> (file_exists($params_php_file)) {</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;      $msg = $msg = dt(<span class="stringliteral">&#39;[LOAD PARAMS FILE]: !file.&#39;</span>, array(<span class="stringliteral">&#39;!file&#39;</span> =&gt; $params_php_file));</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;      drush_log($msg, <span class="stringliteral">&#39;notice&#39;</span>);</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;      include_once <span class="stringliteral">&quot;$params_php_file&quot;</span>;</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    }</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;  }</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;  unset($params_ini_file, $params_php_file);</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;  <span class="comment">// IMPORT JOB PARAMETERS</span></div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;  <span class="comment">// Get params from the job params ini file if it exists.</span></div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;  $params_ini_file = $global_locations[<span class="stringliteral">&#39;RUSH_JOB_DIRECTORY_PATH&#39;</span>] . <span class="stringliteral">&#39;params.ini&#39;</span>;</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;  <span class="keywordflow">if</span> (file_exists($params_ini_file)) {</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    $msg = $msg = dt(<span class="stringliteral">&#39;[LOAD PARAMS FILE]: !file.&#39;</span>, array(<span class="stringliteral">&#39;!file&#39;</span> =&gt; $params_ini_file));</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    drush_log($msg, <span class="stringliteral">&#39;notice&#39;</span>);</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    $job_params = <a class="code" href="group__get__params.html#ga1d904fa261fedd26a696892343d2b062" title="Parse a params.ini file.">rush_parse_ini</a>($params_ini_file);</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    <span class="comment">// Merge job params with params set to this point, letting job params</span></div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    <span class="comment">// override.</span></div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    <span class="keywordflow">if</span> (!empty($job_params)) {</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;      $params = <a class="code" href="group__get__params.html#gac41c33874c97642471b59de59613356f" title="An array merge function which does not change data types during merge.">_rush_array_merge_recursive_distinct</a>($params, $job_params);</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    }</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;  }</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;  <span class="comment">// Get params from the job params php file if it exists.</span></div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;  <span class="comment">// Params in the php file will override all params to this point.</span></div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;  $params_php_file = $global_locations[<span class="stringliteral">&#39;RUSH_JOB_DIRECTORY_PATH&#39;</span>] . <span class="stringliteral">&#39;params.php&#39;</span>;</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;  <span class="keywordflow">if</span> (file_exists($params_php_file)) {</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    $msg = $msg = dt(<span class="stringliteral">&#39;[LOAD PARAMS FILE]: !file.&#39;</span>, array(<span class="stringliteral">&#39;!file&#39;</span> =&gt; $params_php_file));</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    drush_log($msg, <span class="stringliteral">&#39;notice&#39;</span>);</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    include_once <span class="stringliteral">&quot;$params_php_file&quot;</span>;</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;  }</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;  <span class="comment">// Add in options passed on the command line.</span></div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;  <span class="keywordflow">if</span> (drush_get_option(<span class="stringliteral">&#39;domain&#39;</span>, FALSE)) {</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    $params[<span class="stringliteral">&#39;build&#39;</span>][<span class="stringliteral">&#39;domain&#39;</span>] = drush_get_option(<span class="stringliteral">&#39;domain&#39;</span>);</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;  }</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;  <span class="comment">// PREP AND RETURN PARAMS</span></div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;  <span class="comment">// Add global locations to the params array to inspect in the --show=params</span></div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;  <span class="comment">// output</span></div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;  $params[<span class="stringliteral">&#39;global_locations&#39;</span>] = $global_locations;</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;  $args                       = drush_get_arguments();</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;  $params[<span class="stringliteral">&#39;build&#39;</span>][<span class="stringliteral">&#39;job&#39;</span>]     = $args[1];</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;  $params[<span class="stringliteral">&#39;build&#39;</span>][<span class="stringliteral">&#39;key&#39;</span>]     = substr(str_shuffle(md5(microtime())), 0, 5);</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;  <a class="code" href="group__get__params.html#ga31dd7ffa81ecf01ffe2ade129ec9998d" title="Derive missing parameters.">_rush_derive_parameters</a>($params);</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;  <span class="keywordflow">return</span> $params;</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;}</div>
</div><!-- fragment -->
<p><div id="dynsection-10" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-10-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-10-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-10-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__get__params_gad7711d36a38bbc35b89507a009e6f88c_cgraph.png" border="0" usemap="#group__get__params_gad7711d36a38bbc35b89507a009e6f88c_cgraph" alt=""/></div>
<map name="group__get__params_gad7711d36a38bbc35b89507a009e6f88c_cgraph" id="group__get__params_gad7711d36a38bbc35b89507a009e6f88c_cgraph">
<area shape="rect" id="node2" href="group__get__params.html#gac41c33874c97642471b59de59613356f" title="An array merge function which does not change data types during merge." alt="" coords="179,81,379,122"/><area shape="rect" id="node3" href="group__get__params.html#ga31dd7ffa81ecf01ffe2ade129ec9998d" title="Derive missing parameters." alt="" coords="192,147,365,173"/><area shape="rect" id="node10" href="group__filesystem.html#ga42a80d15a0f8d53694c89532648d5b63" title="Extract Rush application folder locations." alt="" coords="190,197,367,224"/><area shape="rect" id="node12" href="group__get__params.html#ga1d904fa261fedd26a696892343d2b062" title="Parse a params.ini file." alt="" coords="224,248,333,275"/><area shape="rect" id="node4" href="group__get__params.html#ga443fac6061c92d86acfcd7192dbdb3f9" title="Derive missing build parameters." alt="" coords="444,5,617,46"/><area shape="rect" id="node6" href="group__get__params.html#ga5d122a82e279e783ea3767d138424610" title="Derive missing db parameters." alt="" coords="433,71,629,97"/><area shape="rect" id="node7" href="group__get__params.html#ga9af08c808c5ddd9d59fe9c550e55ea65" title="Derive missing env parameters." alt="" coords="429,121,632,148"/><area shape="rect" id="node8" href="group__get__params.html#ga71d53df6ee2f78dbb1e5cd3a8f926fe4" title="Derive missing repo parameters." alt="" coords="427,172,635,199"/><area shape="rect" id="node9" href="group__get__params.html#gae7e40e20b79c96a7ed07c195f2a69cae" title="Set some default si parameters if they are not present in a params file." alt="" coords="435,223,626,249"/><area shape="rect" id="node5" href="group__filesystem.html#gab9ed4662e08969fd835eb97b047803f4" title="Return a make file location if it can be found." alt="" coords="683,12,880,39"/><area shape="rect" id="node11" href="group__command__helpers.html#ga1884a6ad32bf8266cb71f804c1f38522" title="Helper function to return the path to the Drush Rush module directory." alt="" coords="476,273,585,300"/></map>
</div>
</p>

<p><div id="dynsection-11" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-11-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-11-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-11-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__get__params_gad7711d36a38bbc35b89507a009e6f88c_icgraph.png" border="0" usemap="#group__get__params_gad7711d36a38bbc35b89507a009e6f88c_icgraph" alt=""/></div>
<map name="group__get__params_gad7711d36a38bbc35b89507a009e6f88c_icgraph" id="group__get__params_gad7711d36a38bbc35b89507a009e6f88c_icgraph">
<area shape="rect" id="node2" href="group__commandcallbacks.html#ga7462df2e5f0265288ce9beb03ea9c3a9" title="Drush rush command callback." alt="" coords="198,5,287,32"/><area shape="rect" id="node3" href="group__commandcallbacks.html#ga7068812064767011f14560a4d963843d" title="Drush rush&#45;show command callback." alt="" coords="179,56,306,83"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga1d904fa261fedd26a696892343d2b062"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">rush_parse_ini </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$ini_file</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parse a params.ini file. </p>
<p>Wrapper function for parse_ini_file.</p>
<ul>
<li><a href="http://www.php.net/manual/en/function.parse-ini-file.php">http://www.php.net/manual/en/function.parse-ini-file.php</a></li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$ini_file</td><td>Required. A string with the path of the ini file to parse.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>array An associative array of parameters on success. False on fail. </dd></dl>

<p>Definition at line <a class="el" href="params_8inc_source.html#l00133">133</a> of file <a class="el" href="params_8inc_source.html">params.inc</a>.</p>

<p>Referenced by <a class="el" href="params_8inc_source.html#l00034">rush_get_params()</a>.</p>
<div class="fragment"><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;                                   {</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;  <span class="keywordflow">return</span> parse_ini_file($ini_file, TRUE);</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;}</div>
</div><!-- fragment -->
<p><div id="dynsection-12" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-12-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-12-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-12-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__get__params_ga1d904fa261fedd26a696892343d2b062_icgraph.png" border="0" usemap="#group__get__params_ga1d904fa261fedd26a696892343d2b062_icgraph" alt=""/></div>
<map name="group__get__params_ga1d904fa261fedd26a696892343d2b062_icgraph" id="group__get__params_ga1d904fa261fedd26a696892343d2b062_icgraph">
<area shape="rect" id="node2" href="group__get__params.html#gad7711d36a38bbc35b89507a009e6f88c" title="Parse rush parameter files and return an array of parameters." alt="" coords="163,31,288,57"/><area shape="rect" id="node3" href="group__commandcallbacks.html#ga7462df2e5f0265288ce9beb03ea9c3a9" title="Drush rush command callback." alt="" coords="355,5,445,32"/><area shape="rect" id="node4" href="group__commandcallbacks.html#ga7068812064767011f14560a4d963843d" title="Drush rush&#45;show command callback." alt="" coords="337,56,463,83"/></map>
</div>
</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Aug 20 2013 10:33:13 for Drush Rush by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.3.1
</small></address>
</body>
</html>
